--- audacious-1.3.0/src/audacious/Makefile	2007-01-26 18:58:10.000000000 +0100
+++ audacious-1.3.0/src/audacious/Makefile	2007-01-26 18:59:45.000000000 +0100
@@ -15,6 +15,7 @@
 	$(GTK_LIBS) \
 	$(LIBGLADE_LIBS) \
 	$(REGEX_LIBS) \
+	-lhome_etc \
 	./widgets/libwidgets.a
 
 CFLAGS += \
--- audacious-1.3.0/src/audacious/configdb.h	2007-01-26 18:58:10.000000000 +0100
+++ audacious-1.3.0/src/audacious/configdb.h	2007-01-26 19:01:51.000000000 +0100
@@ -2,6 +2,7 @@
 #define CONFIGDB_H
 
 #include <glib.h>
+#include <home_etc.h>
 
 /**
  * ConfigDb:
--- audacious-1.3.0/src/audacious/main.c	2007-01-23 03:21:22.000000000 +0100
+++ audacious-1.3.0/src/audacious/main.c	2007-01-26 19:08:25.000000000 +0100
@@ -490,13 +490,13 @@
     char *xdg_cache_home;
 
     xdg_config_home = (getenv("XDG_CONFIG_HOME") == NULL
-        ? g_build_filename(g_get_home_dir(), ".config", NULL)
+        ? g_build_filename(_HEdir, ".config", NULL)
         : g_strdup(getenv("XDG_CONFIG_HOME")));
     xdg_data_home = (getenv("XDG_DATA_HOME") == NULL
-        ? g_build_filename(g_get_home_dir(), ".local", "share", NULL)
+        ? g_build_filename(_HEdir, ".local", "share", NULL)
         : g_strdup(getenv("XDG_DATA_HOME")));
     xdg_cache_home = (getenv("XDG_CACHE_HOME") == NULL
-        ? g_build_filename(g_get_home_dir(), ".cache", NULL)
+        ? g_build_filename(_HEdir, ".cache", NULL)
         : g_strdup(getenv("XDG_CACHE_HOME")));
 
     bmp_paths[BMP_PATH_USER_DIR] =
--- audacious-1.3.0/src/audacious/util.c	2007-01-27 14:01:55.000000000 +0100
+++ audacious-1.3.0/src/audacious/util.c	2007-02-05 22:48:12.000000000 +0100
@@ -29,6 +29,7 @@
 #include "util.h"
 
 #include <glib.h>
+#include <home_etc.h>
 #include <glib/gi18n.h>
 #include <glade/glade.h>
 #include <gtk/gtk.h>
@@ -1011,7 +1012,7 @@
   gchar *tmp;
 
   if ( (tmp = getenv("XDG_CONFIG_HOME")) == NULL )
-    datadir = g_build_filename( g_get_home_dir() , ".config" , "audacious" ,  NULL );
+    datadir = g_build_filename( _HEdir , ".config" , "audacious" ,  NULL );
   else
     datadir = g_build_filename( tmp , "audacious" , NULL );
 
